Выпускной проект курса "Administrator Linux. Professional"

Тема: построение сетевой инфраструктуры на основе типовых сервисов.

Проект представляет собой сеть из пяти серверов:

Bastion server (hostname: project-bastion) - маршрутизатор-файрволл на входе сети
Web server (hostname: project-web) - сервер с фронтэндом и бэкэндом
Mysql server (hostname: project-mysql) - сервер баз данных
Backup server (hostname: project-backup) - сервер для бэкапов
Monitor server (hostname: project-monitor) - сервер мониторинга и сбора логов

Bastion "смотрит" одним интерфейсом наружу, для примера приведен внешний IP адрес 192.168.0.100,
находящийся в сети хостовой машины. Этот адрес является публичным, при поднятии машины Вагрантом
выбирается реальный сетвой интерфейс хостовой машины в качестве моста. Внутренний адрес сервера
192.168.100.2.

Доступ к сети извне осуществляется через Bastion, на нем открыты порты 80, 443 и 3000, настроен
проброс на сервер Web (порты 80 и 443) и сервер мониторинга (порт 3000 Grafana).

На сервере web установлен веб-сайт site.project CMS wordpress. Для снятия бэкапов используется
borgbackup, для примера копируется вся система за исключением временных ФС и точек монтирования.
В качестве хранилища бэкапов поднят репозиторий на сервере Backup. 

Mysql содержит базу данных Percona MySQL, поднятую для site.project. Бэкапы mysql производятся
при помощи xtrabackup, также на сервер Backup. 

На сервере Backup выделен отдельный диск длоя резервного копирования, примонтированный в точке
/var/backup. Здесь находится репозиторий borgbackup project-web-system, и папка mysql для хранения
бэкапов mysql.

На сервере монитор поднят prometheus в связке с grafana. Данные клиентов собираются при помощи
установленного на них prometheus-node-exporter. Для сбора логов испольбзуется systemd-journal-remote
в пассивном режиме, на клиентах установлен systemd-journal-gatewayю

Для поднятия стенда используется Vagrantfile. Для провижинига запускается 

ansible-playbook playbooks/project.yml.

